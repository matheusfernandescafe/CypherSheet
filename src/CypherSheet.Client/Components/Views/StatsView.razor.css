/* Character Header Layout */
.character-header {
    display: flex;
    align-items: flex-start;
    gap: 1.5rem;
    margin-bottom: 1rem;
    padding: 1.5rem;
    border-radius: 8px;
}

.character-image-section {
    flex: 0 0 33.333%;
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
}

.character-info {
    flex: 0 0 66.667%;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

/* Character Name - Hierarchical Level 1 */
.character-name {
    margin-bottom: 0.5rem;
    transition: background-color 0.2s ease, transform 0.1s ease;
    border-radius: 4px;
    padding: 0.25rem 0.5rem;
    margin: -0.25rem -0.5rem 0.5rem -0.5rem;
}

.character-name:hover {
    background-color: rgba(var(--mud-palette-primary-rgb), 0.08);
    transform: translateY(-1px);
}

.character-name:active {
    transform: translateY(0);
}

/* Character Description - Hierarchical Level 2 & 3 */
.character-description {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    word-wrap: break-word;
    overflow-wrap: break-word;
    transition: background-color 0.2s ease, transform 0.1s ease;
    border-radius: 4px;
    padding: 0.5rem;
    margin: -0.5rem;
}

.character-description:hover {
    background-color: rgba(var(--mud-palette-primary-rgb), 0.08);
    transform: translateY(-1px);
}

.character-description:active {
    transform: translateY(0);
}

.descriptor-type-line {
    margin-bottom: 0.125rem;
}

.focus-line {
    margin-bottom: 0.25rem;
}

/* Character Stats - Hierarchical Level 4 */
.character-stats {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    gap: 1.5rem;
    margin-top: 0.75rem;
    flex-wrap: wrap;
}

.tier-info {
    transition: background-color 0.2s ease, transform 0.1s ease;
    border-radius: 4px;
    padding: 0.25rem 0.5rem;
    margin: -0.25rem -0.5rem;
}

.tier-info:hover {
    background-color: rgba(var(--mud-palette-primary-rgb), 0.08);
    transform: translateY(-1px);
}

.tier-info:active {
    transform: translateY(0);
}

.xp-info {
    /* XP button já tem seus próprios estilos de hover do MudBlazor */
}

/* Responsive Layout - Mantém layout horizontal em todas as telas */
@media (max-width: 479px) {
    .character-header {
        gap: 0.75rem;
        padding: 0.75rem;
        min-height: 120px; /* Garante altura mínima para touch targets */
    }
    
    .character-image-section {
        flex: 0 0 28%;
        min-width: 80px; /* Garante tamanho mínimo da imagem */
    }
    
    .character-info {
        flex: 1;
        min-width: 0; /* Permite quebra de texto */
    }
    
    .character-name {
        min-height: 48px; /* Touch target otimizado */
        display: flex;
        align-items: center;
        margin-bottom: 0.25rem;
    }
    
    .character-name .mud-typography-h4 {
        font-size: 1.1rem !important;
        line-height: 1.3;
        font-weight: 600;
    }
    
    .character-description {
        min-height: 48px; /* Touch target otimizado */
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    
    .character-description .mud-typography-body1 {
        font-size: 0.8rem !important;
        line-height: 1.3;
        font-weight: 400;
    }
    
    .character-stats {
        gap: 0.5rem;
        margin-top: 0.25rem;
        flex-wrap: wrap;
    }
    
    .tier-info {
        min-height: 44px; /* Touch target padrão */
        min-width: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .tier-info .mud-typography-body2 {
        font-size: 0.75rem !important;
        font-weight: 500;
    }
    
    .xp-info .mud-button {
        min-height: 44px !important;
        font-size: 0.75rem !important;
    }
}

@media (min-width: 480px) and (max-width: 599px) {
    .character-header {
        gap: 1rem;
        padding: 1rem;
        min-height: 140px;
    }
    
    .character-image-section {
        flex: 0 0 30%;
        min-width: 90px;
    }
    
    .character-info {
        flex: 1;
        min-width: 0;
    }
    
    .character-name {
        min-height: 48px;
        display: flex;
        align-items: center;
    }
    
    .character-name .mud-typography-h4 {
        font-size: 1.3rem !important;
        line-height: 1.3;
        font-weight: 600;
    }
    
    .character-description {
        min-height: 48px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    
    .character-description .mud-typography-body1 {
        font-size: 0.85rem !important;
        line-height: 1.4;
    }
    
    .character-stats {
        gap: 0.75rem;
        margin-top: 0.5rem;
    }
    
    .tier-info {
        min-height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .tier-info .mud-typography-body2 {
        font-size: 0.8rem !important;
    }
    
    .xp-info .mud-button {
        min-height: 44px !important;
        font-size: 0.8rem !important;
    }
}

@media (min-width: 600px) and (max-width: 959px) {
    .character-header {
        gap: 1.25rem;
        padding: 1.25rem;
        min-height: 160px;
    }
    
    .character-image-section {
        flex: 0 0 32%;
        min-width: 100px;
    }
    
    .character-info {
        flex: 1;
        min-width: 0;
    }
    
    .character-name {
        min-height: 48px;
        display: flex;
        align-items: center;
    }
    
    .character-name .mud-typography-h4 {
        font-size: 1.5rem !important;
        line-height: 1.3;
    }
    
    .character-description {
        min-height: 48px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    
    .character-description .mud-typography-body1 {
        font-size: 0.9rem !important;
        line-height: 1.4;
    }
    
    .character-stats {
        gap: 1rem;
        margin-top: 0.75rem;
    }
    
    .tier-info {
        min-height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .tier-info .mud-typography-body2 {
        font-size: 0.85rem !important;
    }
    
    .xp-info .mud-button {
        min-height: 44px !important;
    }
}

@media (min-width: 960px) {
    .character-header {
        gap: 1.5rem;
        padding: 1.5rem;
        min-height: 180px;
    }
    
    .character-image-section {
        flex: 0 0 33.333%;
        min-width: 120px;
    }
    
    .character-info {
        flex: 1;
        min-width: 0;
    }
    
    .character-name {
        min-height: 48px;
        display: flex;
        align-items: center;
    }
    
    .character-name .mud-typography-h4 {
        font-size: 1.75rem !important;
        line-height: 1.3;
    }
    
    .character-description {
        min-height: 48px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    
    .character-description .mud-typography-body1 {
        font-size: 1rem !important;
        line-height: 1.4;
    }
    
    .character-stats {
        gap: 1.5rem;
        margin-top: 0.75rem;
    }
    
    .tier-info {
        min-height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .xp-info .mud-button {
        min-height: 44px !important;
    }
}

/* Orientação landscape - mantém layout horizontal otimizado */
@media (max-width: 959px) and (orientation: landscape) {
    .character-header {
        gap: 0.75rem;
        padding: 0.75rem 1.25rem;
        min-height: 100px; /* Altura reduzida para landscape */
    }
    
    .character-image-section {
        flex: 0 0 25%; /* Proporção menor para aproveitar largura */
        min-width: 70px;
    }
    
    .character-info {
        flex: 1;
        min-width: 0;
    }
    
    .character-name {
        min-height: 40px; /* Altura reduzida para landscape */
        margin-bottom: 0.25rem;
    }
    
    .character-name .mud-typography-h4 {
        font-size: 1.2rem !important;
        line-height: 1.2;
    }
    
    .character-description {
        min-height: 40px;
        gap: 0.125rem;
    }
    
    .character-description .mud-typography-body1 {
        font-size: 0.8rem !important;
        line-height: 1.3;
    }
    
    .character-stats {
        gap: 0.75rem;
        margin-top: 0.25rem;
    }
    
    .tier-info {
        min-height: 40px;
        padding: 0.125rem 0.375rem;
    }
    
    .tier-info .mud-typography-body2 {
        font-size: 0.75rem !important;
    }
    
    .xp-info .mud-button {
        min-height: 40px !important;
        font-size: 0.75rem !important;
    }
}

/* Acessibilidade e usabilidade */
@media (prefers-reduced-motion: reduce) {
    .character-name,
    .character-description,
    .tier-info {
        transition: none;
    }
}


/* Estados de foco para acessibilidade */
.character-name:focus-visible,
.character-description:focus-visible,
.tier-info:focus-visible {
    outline: 2px solid var(--mud-palette-primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(var(--mud-palette-primary-rgb), 0.2);
}

/* Melhorias para contraste e legibilidade */
@media (prefers-contrast: high) {
    .character-name:hover,
    .character-description:hover,
    .tier-info:hover {
        background-color: rgba(var(--mud-palette-primary-rgb), 0.15);
        border: 1px solid rgba(var(--mud-palette-primary-rgb), 0.3);
    }
}

/* Suporte para modo escuro otimizado */
@media (prefers-color-scheme: dark) {
    .character-name:hover,
    .character-description:hover,
    .tier-info:hover {
        background-color: rgba(var(--mud-palette-primary-rgb), 0.12);
    }
}

/* Garantia de layout horizontal em todas as condições */
.character-header {
    flex-direction: row !important; /* Força layout horizontal sempre */
}

.character-info {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
}

/* Fallback para navegadores mais antigos */
@supports not (gap: 1rem) {
    .character-header > * + * {
        margin-left: 1rem;
    }
    
    .character-info > * + * {
        margin-top: 0.5rem;
    }
    
    .character-stats > * + * {
        margin-left: 1rem;
    }
}

/* Otimização para touch targets em dispositivos móveis */
@media (pointer: coarse) {
    .character-name,
    .character-description,
    .tier-info {
        min-height: 44px;
        display: flex;
        align-items: center;
        padding: 0.5rem;
        margin: -0.5rem;
        border-radius: 6px;
    }
    
    .character-name {
        justify-content: flex-start;
    }
    
    .character-description {
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
    }
    
    .tier-info {
        justify-content: center;
        min-width: 80px;
    }
    
    /* Aumenta área de toque para XP button */
    .xp-info .mud-button {
        min-height: 44px !important;
        min-width: 80px !important;
        padding: 0.5rem 1rem !important;
    }
}

/* Melhorias específicas para telas muito pequenas (< 360px) */
@media (max-width: 359px) {
    .character-header {
        gap: 0.5rem;
        padding: 0.5rem;
        min-height: 110px;
    }
    
    .character-image-section {
        flex: 0 0 26%;
        min-width: 70px;
    }
    
    .character-info {
        flex: 1;
    }
    
    .character-name .mud-typography-h4 {
        font-size: 1rem !important;
        font-weight: 700;
    }
    
    .character-description .mud-typography-body1 {
        font-size: 0.75rem !important;
        line-height: 1.2;
    }
    
    .character-stats {
        gap: 0.25rem;
        flex-direction: column;
        align-items: flex-start;
    }
    
    .tier-info,
    .xp-info {
        width: 100%;
    }
    
    .tier-info .mud-typography-body2 {
        font-size: 0.7rem !important;
    }
    
    .xp-info .mud-button {
        width: 100% !important;
        justify-content: flex-start !important;
        font-size: 0.7rem !important;
    }
}

/* Otimizações para telas de alta densidade e zoom */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .character-name .mud-typography-h4 {
        font-weight: 600;
        text-rendering: optimizeLegibility;
    }
    
    .character-description .mud-typography-body1 {
        font-weight: 400;
        text-rendering: optimizeLegibility;
    }
    
    .tier-info .mud-typography-body2 {
        font-weight: 500;
        text-rendering: optimizeLegibility;
    }
}